{% extends "base_home.html" %}
{% load humanize %}

{% block title %}{{block.super}}-Experience{% endblock title %}

{% block content %}
<div class="card">
  <h5 class="card-header">Experience - Logged Hours<span><p class="float-right"><a href="{% url 'Talent:Home' %}"  class="badge badge-pill badge-primary">Back</a></p></span></h5>

  <div class="card-body">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Employer</th>
          <th>Designation</th>
          <th>Date from</th>
          <th>Date to</th>
          <th>Project</th>
          <th>Industry</th>
          <th>Hours logged</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ check.company }}<br>({{ sum_company.co_sum|intcomma }})*</td>
          <td>{{ check.designation }}</td>
          <td>{{ check.date_from }}</td>
          <td>{{ check.date_to }}</td>
          <td>{{ check.project }}<br>({{ sum_project.p_sum|intcomma }})*</td>
          <td>{{ check.industry }}</td>
          <td>{{ check.hours_worked }}</td>
        </tr>
        <tr>
          <th>Skills</th>
          {% for s in list %}
            <td colspan="6">{{ s.skills.all|join:", " }}</td>
          {% endfor %}
        </tr>
        <tr>
          <th>Comment</th>
          <td colspan="6">{{ check.comment }}</td>
        </tr>
      </tbody>
    </table>
    <p>*Numbers in brackets below Employer and Project are the total hours logged with the employer or on that project.</p>
    {% if check.upload %}
      <p>Attached File: <a href="{{ check.upload.url }}" target="_blank" class="badge badge-pill badge-success">Open</a></p>
    {% endif %}
  </div>
  <div class="row">
    <div class="col-sm-6">
     <div class="card">
       <div class="card-body">
         <p class="float-right"><a href="{% url 'Talent:ColleagueAdd' check.id %}" class="badge badge-pill badge-primary">Add Colleague</a></p>
         <h5 class="card-title">Colleagues</h5>
         <table class="table table-sm">
           <thead>
             <tr>
               <th>Name</th>
               <th>Confirmation</th>
             </tr>
           </thead>
           {% for c in confirmed_clg %}
           <tbody>
             <tr>
               <td>{{ c.colleague_name.first_name}} {{ c.colleague_name.last_name }}</td>
               <td>{{c.get_confirm_display}}</td>
               <td><a href="{% url 'Talent:ColleagueResponse' c.id %}?next={{ request.path|urlencode }}" class="badge badge-pill badge-primary">Detail</a></td>
             </tr>
            {% endfor %}
           </tbody>
         </table>
       </div>
     </div>
    </div>
    <div class="col-sm-6">
     <div class="card">
       <div class="card-body">
         <p class="float-right"><a href="{% url 'Talent:SuperiorAdd' check.id %}" class="badge badge-pill badge-primary">Add Superior</a></p>
         <h5 class="card-title">Superiors</h5>
         <table class="table table-sm">
           <thead>
             <tr>
               <th>Name</th>
               <th>Confirmation</th>
             </tr>
           </thead>
           {% for cm in confirmed_sup %}
           <tbody>
             <tr>
               <td>{{ cm.superior_name.first_name}} {{ cm.superior_name.last_name }}</td>
               <td>{{cm.get_confirm_display}}</td>
               <td><a href="{% url 'Talent:SuperiorResponse' cm.id %}?next={{ request.path|urlencode }}" class="badge badge-pill badge-primary">Detail</a></td>
             </tr>
          {% endfor %}
           </tbody>
         </table>
       </div>
     </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
     <div class="card">
       <div class="card-body">
         <p class="float-right"><a href="{% url 'Talent:CollaboratorAdd' check.id %}" class="badge badge-pill badge-primary">Add Collaborator</a></p>
         <h5 class="card-title">Collaborators</h5>
         <table class="table table-sm">
           <thead>
             <tr>
               <th>Name</th>
               <th>Confirmation</th>
             </tr>
           </thead>
           {% for wc in confirmed_clr %}
           <tbody>
             <tr>
               <td>{{ wc.collaborator_name.first_name}} {{ wc.collaborator_name.last_name }}</td>
               <td>{{wc.get_confirm_display}}</td>
               <td><a href="{% url 'Talent:CollaboratorResponse' wc.id %}?next={{ request.path|urlencode }}" class="badge badge-pill badge-primary">Detail</a></td>
             </tr>
            {% endfor %}
           </tbody>
         </table>
       </div>
     </div>
    </div>
    <div class="col-sm-6">
     <div class="card">
       <div class="card-body">
         <p class="float-right"><a href="{% url 'Talent:ClientAdd' check.id %}" class="badge badge-pill badge-primary">Add Client</a></p>
         <h5 class="card-title">Clients</h5>
         <table class="table table-sm">
           <thead>
             <tr>
               <th>Name</th>
               <th>Confirmation</th>
             </tr>
           </thead>
           {% for cnt in confirmed_cnt %}
           <tbody>
             <tr>
               <td>{{ cnt.client_name.first_name}} {{ cnt.client_name.last_name }}</td>
               <td>{{cnt.get_confirm_display}}</td>
               <td><a href="{% url 'Talent:ClientResponse' cnt.id %}?next={{ request.path|urlencode }}" class="badge badge-pill badge-primary">Detail</a></td>
             </tr>
          {% endfor %}
           </tbody>
         </table>
       </div>
     </div>
    </div>
  </div>
</div>

{% endblock content %}
